<div id="author-app">
  <section
    id="auth"
    style="max-width: 500px; margin: 100px auto; padding: 40px"
  >
    <h1
      style="
        font-size: 48px;
        font-weight: 300;
        margin: 0 0 30px 0;
        text-align: center;
        color: var(--text-accent);
        letter-spacing: 3px;
        font-family: 'Playfair Display', serif;
      "
    >
      Author Portal
    </h1>
    <form
      id="login-form"
      style="display: flex; flex-direction: column; gap: 20px"
    >
      <input
        id="email"
        name="email"
        placeholder="Email"
        required
        style="
          padding: 14px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-primary);
          font-family: inherit;
          font-size: 15px;
        "
      />
      <input
        id="password"
        name="password"
        type="password"
        placeholder="Password"
        required
        style="
          padding: 14px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-primary);
          font-family: inherit;
          font-size: 15px;
        "
      />
      <button
        type="submit"
        style="
          padding: 14px;
          background: var(--accent);
          color: var(--bg-primary);
          border: none;
          font-weight: 600;
          cursor: pointer;
          font-size: 15px;
          margin-top: 10px;
        "
      >
        Sign In
      </button>
    </form>
  </section>

  <section
    id="dashboard"
    style="display: none; max-width: 1200px; margin: 0 auto; padding: 40px"
  >
    <div
      style="
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 50px;
        padding-bottom: 30px;
        border-bottom: 1px solid var(--border);
      "
    >
      <h1
        style="
          font-size: 48px;
          font-weight: 300;
          margin: 0;
          color: var(--text-accent);
          letter-spacing: 3px;
          font-family: 'Playfair Display', serif;
        "
      >
        Dashboard
      </h1>
      <button
        id="logout"
        style="
          padding: 10px 20px;
          background: var(--bg-secondary);
          color: var(--text-primary);
          border: 1px solid var(--border);
          cursor: pointer;
          font-size: 14px;
        "
      >
        Logout
      </button>
    </div>

    <div style="margin-bottom: 50px">
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
        "
      >
        <h2 style="font-size: 28px; font-weight: 400; margin: 0">Your Posts</h2>
        <button
          id="new-post"
          style="
            padding: 12px 24px;
            background: var(--accent);
            color: var(--bg-primary);
            border: none;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
          "
        >
          + New Post
        </button>
      </div>
      <div id="posts-list" style="display: grid; gap: 20px"></div>
    </div>

    <div
      id="editor"
      style="
        display: none;
        margin-top: 50px;
        padding-top: 50px;
        border-top: 1px solid var(--border);
      "
    >
      <h2
        id="editor-title"
        style="font-size: 28px; font-weight: 400; margin-bottom: 30px"
      >
        New Post
      </h2>
      <form
        id="post-form"
        style="display: flex; flex-direction: column; gap: 20px"
      >
        <div>
          <input
            name="title"
            id="post-title"
            placeholder="Post Title"
            required
            style="
              width: 100%;
              padding: 14px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-family: inherit;
              font-size: 18px;
              font-weight: 600;
            "
          />
        </div>
        <div>
          <input
            name="excerpt"
            id="post-excerpt"
            placeholder="Brief excerpt (optional)"
            style="
              width: 100%;
              padding: 14px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-family: inherit;
              font-size: 15px;
            "
          />
        </div>
        <div>
          <label
            style="
              display: block;
              margin-bottom: 8px;
              color: var(--text-secondary);
              font-size: 13px;
            "
            >Category</label
          >
          <select
            name="tags"
            id="post-tags"
            style="
              width: 100%;
              padding: 14px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-family: inherit;
              font-size: 15px;
            "
          >
            <option value="">-- Select category --</option>
            <option value="short-story">Short Stories</option>
            <option value="novel">Novels</option>
            <option value="script">Scripts</option>
            <option value="poetry">Poetry</option>
          </select>
        </div>
        <div>
          <label
            style="
              display: block;
              margin-bottom: 8px;
              font-size: 14px;
              color: var(--text-secondary);
            "
            >Cover Image</label
          >
          <input
            type="file"
            id="coverImage"
            name="coverImage"
            style="
              width: 100%;
              padding: 10px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-size: 14px;
            "
          />
        </div>
        <div>
          <label
            style="
              display: block;
              margin-bottom: 8px;
              font-size: 14px;
              color: var(--text-secondary);
            "
            >Document (PDF)</label
          >
          <input
            type="file"
            id="document"
            name="document"
            accept=".pdf"
            style="
              width: 100%;
              padding: 10px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-size: 14px;
            "
          />
        </div>
        <div>
          <label
            style="
              display: block;
              margin-bottom: 8px;
              font-size: 14px;
              color: var(--text-secondary);
            "
            >Content (HTML allowed) â€”
            <span id="word-count-display" style="color: var(--text-secondary)"
              >0 words (maximum 6000)</span
            ></label
          >
          <textarea
            name="content"
            id="post-content"
            placeholder="Write your content here..."
            style="
              width: 100%;
              padding: 14px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-family: monospace;
              font-size: 14px;
              min-height: 400px;
            "
          ></textarea>
        </div>
        <div style="display: flex; gap: 15px">
          <select
            id="post-status"
            name="status"
            style="
              padding: 12px;
              border: 1px solid var(--border);
              background: var(--bg-secondary);
              color: var(--text-primary);
              font-family: inherit;
              font-size: 15px;
            "
          >
            <option value="draft">Draft</option>
            <option value="published">Publish</option>
          </select>
          <input type="hidden" id="post-id" />
          <button
            type="button"
            id="preview-btn"
            style="
              flex: 1;
              padding: 12px;
              background: var(--bg-secondary);
              color: var(--text-primary);
              border: 1px solid var(--border);
              cursor: pointer;
              font-size: 15px;
            "
          >
            Preview
          </button>
          <button
            type="submit"
            style="
              flex: 1;
              padding: 12px;
              background: var(--accent);
              color: var(--bg-primary);
              border: none;
              font-weight: 600;
              cursor: pointer;
              font-size: 15px;
            "
          >
            Save Post
          </button>
          <button
            id="cancel-edit"
            type="button"
            style="
              padding: 12px 24px;
              background: var(--bg-secondary);
              color: var(--text-primary);
              border: 1px solid var(--border);
              cursor: pointer;
              font-size: 14px;
            "
          >
            Cancel
          </button>
        </div>
      </form>
    </div>

    <div
      id="moderation"
      style="
        margin-top: 50px;
        padding-top: 50px;
        border-top: 1px solid var(--border);
      "
    >
      <h2 style="font-size: 28px; font-weight: 400; margin-bottom: 30px">
        Comments (Pending)
      </h2>
      <div id="pending-comments"></div>
    </div>
  </section>

  <div
    id="preview-modal"
    style="
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      overflow-y: auto;
    "
  >
    <div
      style="
        max-width: 900px;
        margin: 0 auto;
        background: var(--bg-primary);
        min-height: 100vh;
      "
    >
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 30px 40px;
          border-bottom: 1px solid var(--border);
          position: sticky;
          top: 0;
          background: var(--bg-primary);
        "
      >
        <h2 style="font-size: 24px; font-weight: 400; margin: 0">Preview</h2>
        <button
          id="close-preview"
          style="
            padding: 10px 20px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 14px;
          "
        >
          Close
        </button>
      </div>
      <article id="preview-content" style="padding: 40px"></article>
    </div>
  </div>
</div>

<script src="/public/js/author.js"></script>
